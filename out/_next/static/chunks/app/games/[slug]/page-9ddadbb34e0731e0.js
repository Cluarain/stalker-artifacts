(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{5622:function(e,a,t){Promise.resolve().then(t.bind(t,3659))},3659:function(e,a,t){"use strict";t.d(a,{default:function(){return P}});var r=t(7437),s=t(2265);function i(e,a,t){return void 0===a||(e.includes("_immunity")?t&&"string"==typeof t&&t.includes("immunzero")?0===Math.abs(a):1===Math.abs(a):"number"==typeof a?0===Math.abs(a):"boolean"==typeof a&&"is_komponent"!==e&&"lights_enabled"!==e&&!a)}function n(e){return{bleeding_restore_speed:parseFloat(e.actor_condition.wound_incarnation_v||"0.0035"),health_restore_speed:parseFloat(e.actor_condition.satiety_health_v||"0.0001"),power_restore_speed:100*parseFloat(e.actor_condition.satiety_power_v||"0.000055"),satiety_restore_speed:parseFloat(e.actor_condition.satiety_v||"0.000002"),radiation_restore_speed:100*parseFloat(e.actor_condition.radiation_v||"0.0001"),radiation_immunity:parseFloat(e.actor_condition.radio_zone_max_power||1),burn_immunity:parseFloat(e.actor_condition.fire_zone_max_power||1),chemical_burn_immunity:parseFloat(e.actor_condition.acid_zone_max_power||1),telepatic_immunity:parseFloat(e.actor_condition.psi_zone_max_power||1),shock_immunity:parseFloat(e.actor_condition.electra_zone_max_power||1)}}function o(e,a){return({visual:"Визуал",inv_name:"Имя",inv_name_short:"Короткое имя",inv_weight:"Вес",inv_grid_x:"Позиция X",inv_grid_y:"Позиция Y",cost:"Стоимость",jump_height:"Высота прыжка артефакта",lights_enabled:"Подсветка артефакта",trail_light_color:"Цвет подсветки артефакта",trail_light_range:"Дальность подсветки артефакта",additional_inventory_weight:"Грузоподъёмность",particles:"Частицы артефакта",health_restore_speed:"Здоровье",radiation_restore_speed:"Радиация",satiety_restore_speed:"Сытость",power_restore_speed:"Выносливость",bleeding_restore_speed:"Кровотечение",hit_absorbation_sect:"Секция поглощения урона",artefact_activation_seq:"Секвенция активации",is_komponent:"Компонент",burn_immunity:"Иммун. к ожогу",strike_immunity:"Иммун. к удару",shock_immunity:"Иммун. к электричеству",wound_immunity:"Иммун. к разрыву",radiation_immunity:"Иммун. к радиации",telepatic_immunity:"Иммун. к телепатии",chemical_burn_immunity:"Иммун. к хим. ожогу",explosion_immunity:"Иммун. к взрыву",fire_wound_immunity:"Иммун. к пулестойкости",burn_cap:"Предел к ожогу",strike_cap:"Предел к удару",shock_cap:"Предел к электричеству",wound_cap:"Предел к разрыву",radiation_cap:"Предел к радиации",telepatic_cap:"Предел к телепатии",chemical_burn_cap:"Предел к хим. ожогу",explosion_cap:"Предел к взрыву",fire_wound_cap:"Предел к пулестойкости",description:"Описание"})[e]||e}function l(e){return e.replace(/\r\n/g,"").replace(/\r/g,"").replace(/\n/g,"<br>")}function c(e){let a={ui_gray_2:"#fff",ui_gray_1:"#aaaaaa",ui_white:"#ffffff",d_cyan:"#00FFFF",d_orange:"#ff8c00",d_red:"#8b0000",d_purple:"#800080",d_green:"#006400","0,250,250,0":"#ffff00","0,255,255,255":"#ffffff",orange:"#ffa500",default:"currentColor",green:"limegreen",red:"var(--color-negative)",blue:"#0000ff",yellow:"#ffff00",purple:"#800080",cyan:"#00ffff"},t=e.split(/(%c(?:\[[^\]]+\])?)/g);var r="",s=[],i="";for(let e=0;e<t.length;e++){let n=t[e];if(n.startsWith("%c")){if("%c"===n)i="",s.length>0&&(s.pop(),i=s.length>0?s[s.length-1]:"");else if(n.startsWith("%c[")){let e=n.match(/^%c\[([^\]]+)\]/);e&&(i=a[e[1]]||"currentColor",s.push(i))}}else n&&""!==n&&(i?r+='<span style="color: '.concat(i,'; font-weight:600;">').concat(l(n),"</span>"):r+=l(n))}return r}function d(e){return["health_restore_speed","radiation_restore_speed","satiety_restore_speed","power_restore_speed","bleeding_restore_speed","burn_immunity","strike_immunity","shock_immunity","wound_immunity","radiation_immunity","telepatic_immunity","chemical_burn_immunity","explosion_immunity","fire_wound_immunity","burn_cap","strike_cap","shock_cap","wound_cap","radiation_cap","telepatic_cap","chemical_burn_cap","explosion_cap","fire_wound_cap","additional_inventory_weight"].some(a=>e===a)}function u(e){let{acTitle:a,acBody:t,additionalClass:s="",isOpen:i=!1}=e,n="string"==typeof t;return(0,r.jsxs)("div",{className:"accordion ".concat(s),children:[(0,r.jsx)("details",{className:"accordion-details",...i?{open:!0}:{},children:(0,r.jsxs)("summary",{className:"accordion-summary",children:[(0,r.jsx)("span",{className:"accordion-title",role:"term",children:a}),(0,r.jsx)("span",{className:"accordion-arrow"})]})}),(0,r.jsx)("div",{className:"accordion-content",role:"definition",children:(0,r.jsx)("div",{className:"accordion-overflow",children:(0,r.jsx)("div",{className:"accordion-body",children:n?(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:t}}):t})})})]})}var m=t(5977);function p(e){let{...a}=e;return(0,r.jsx)(m.Z,{slotProps:{popper:{sx:{padding:0}},tooltip:{sx:{backgroundColor:"var(--color-tooltip-bg)",animation:"none",cursor:"pointer",fontFamily:"inherit",fontSize:"0.75em",marginInline:"var(--spacing-sm) !important"}}},...a})}var h=t(7339);function f(e){let{artifactStats:a,slug:t}=e,{inv_grid_x:s=0,inv_grid_y:i=0,inv_grid_width:n=1,inv_grid_height:o=1}=a,l=(0,h.D)("/games/".concat(t,"/ui_icon_equipment.webp")),c=(0,h.D)("/games/".concat(t,"/ui_icon_equipment.png")),d={backgroundImage:"image-set(\n      url(".concat(l,") type('image/webp'),\n      url(").concat(c,") type('image/png')\n    )"),backgroundPosition:"".concat(-(50*s),"px ").concat(-(50*i),"px"),backgroundSize:"auto",width:"".concat(50*n,"px"),height:"".concat(50*o,"px"),display:"inline-block"};return(0,r.jsx)("span",{className:"artifact-icon",style:d})}var _=t(2768);function v(e){let{id:a,artifactStats:t,gameData:s,showRawValues:l,metadata:m}=e;if(!1===t._show)return null;var h,v,g,x,b=m.mod||"",y=m.slug||"",j=[],N=[],k="st_".concat(a,"_descr");Object.entries(t).forEach(e=>{let[a,t]=e;if(!a.startsWith("_")){if("description"===a){k=t;return}var r,c,u="",m="",p=a,h=t;d(a)&&((p=o(a,b),[u,m]=function(e,a,t){if(t){if(t.includes("original")&&"bleeding_restore_speed"===e){if(a>0)return["positive","+"];if(a<0)return["negative","-"]}if(t.includes("anomaly")&&(e.includes("_immunity")||e.includes("_cap"))){if(a<0)return["negative","-"];if(a>0)return["positive","+"]}}if(e.includes("_immunity")||e.includes("_cap")){if(a<1)return["positive","+"];if(a>1)return["negative","-"]}if("bleeding_restore_speed"===e){if(a>0)return["positive","-"];if(a<0)return["negative","+"]}if("radiation_restore_speed"===e){if(a<0)return["positive","-"];if(a>0)return["negative","+"]}if(e.includes("restore_speed")||e.includes("additional_inventory_weight")){if(a>0)return["positive","+"];if(a<0)return["negative","-"]}return["neutral",""]}(a,t,b),l)?m="":(r=function(e,a,t,r){if("number"==typeof a){var s=a;if(e.includes("inventory_weight"))return s;if(r&&"string"==typeof r){if((r=r.toLowerCase()).includes("soc")){if(e.includes("_immunity"))return Math.round(Math.abs(100-100*a));s=100*a/n(t.actor)[e]}if(r.includes("cs")||r.includes("cop")){var i,s=a;if(e.includes("_immunity")||e.includes("_cap")){var o=n(t.actor)[e];o&&(s/=o)}var l=null===(i=t.artifactsParams[e])||void 0===i?void 0:i.magnitude;l&&(s*=l)}if(r.includes("anomaly")){var c,s=a,l=null===(c=t.artifactsParams[e])||void 0===c?void 0:c.magnitude;return l&&s&&(s*=l),Math.abs(Math.ceil(s))}}return Math.abs(Math.round(s))}if("boolean"==typeof a)return a?"Да":"Нет"}(a,t,s,b),c="",t&&"number"==typeof t&&(c=function(e,a,t){if((null==a?void 0:a.artifactsParams)&&(null==a?void 0:null===(r=a.artifactsParams[e])||void 0===r?void 0:r.unit_str))return(null==a?void 0:null===(s=a.strings[null==a?void 0:null===(i=a.artifactsParams[e])||void 0===i?void 0:i.unit_str])||void 0===s?void 0:s.name)||"";if(e.includes("additional_inventory_weight"))return"кг";var r,s,i,n="";return t&&"string"==typeof t?(t=t.toLowerCase()).includes("secret trails")||t.includes("soc")&&(n="",e.includes("_immunity"))?"%":n:""}(a,s,b)),h='<span class="_value">'.concat(r,'</span>\n          <span class="_unit">').concat(c,"</span>")));var f={key:a,value:t,colorClass:u,sign:m,formattedName:p,valueDisplay:h,isAdditional:!d(a)||i(a,t,b)};N.push(f),f.isAdditional||j.push(f)}});var w=(null===(h=s.strings[s.artifacts[a].inv_name])||void 0===h?void 0:h.name)||a,S=(null===(v=s.strings[k])||void 0===v?void 0:v.name)||"",C=(null==s?void 0:s.recipes)&&(null==s?void 0:s.recipesStrings)&&(null===(g=s.recipesStrings[null===(x=s.recipes[a])||void 0===x?void 0:x.recipe])||void 0===g?void 0:g.name)||"",F=0==j.length;return(0,r.jsxs)("article",{className:"artifact-card ".concat(C?"isCraftable":""),children:[(0,r.jsxs)("div",{className:"artifact-header",children:[(0,r.jsx)("div",{className:"artifact-name",children:(0,r.jsxs)("h2",{className:"artifact-title",children:[(0,r.jsx)(f,{artifactStats:t,slug:y}),(0,r.jsxs)("div",{className:"artifact-title-group",children:[w,l&&(0,r.jsx)("code",{className:"artifact-id",children:a})]}),C&&(0,r.jsx)(p,{title:"Есть рецепт",placement:"right",children:(0,r.jsx)("div",{className:"craft-receipt",onClick:e=>{let a=e.currentTarget.closest(".artifact-card");if(a){let e=a.querySelector(".ac-receipt details");e&&(e.open=!e.open)}},children:(0,r.jsx)(_.d79,{size:20})})})]})}),t.cost&&(0,r.jsxs)("div",{className:"artifact-cost",children:[t.cost," ₽"]})]}),(0,r.jsx)("hr",{className:"artifact-divider"}),F?(0,r.jsx)("div",{className:"artifact-plain-description",dangerouslySetInnerHTML:{__html:c(S)}}):(0,r.jsx)("div",{className:"artifact-stats",children:j.map(e=>{var a="";return e.key===t._sortKey&&(a=" highlight"),(0,r.jsxs)("div",{className:"stat-item".concat(a),children:[(0,r.jsx)("div",{className:"stat-name",children:e.formattedName}),(0,r.jsx)("div",{className:"stat-value ".concat(e.colorClass),dangerouslySetInnerHTML:{__html:'<span class="sign-value-unit"><span class="_sign">'.concat(e.sign,"</span>").concat(e.valueDisplay,"</span>")}})]},e.key)})}),(0,r.jsxs)("div",{className:"artifact-footer",children:[C&&(0,r.jsx)(u,{acTitle:"Рецепт",acBody:c(C),additionalClass:"ac-receipt"}),S&&!F&&(0,r.jsx)(u,{acTitle:"Описание",acBody:c(S)}),l&&N.length>0&&(0,r.jsx)(u,{acTitle:"Все статы из конфигов",acBody:N.map(e=>(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)(p,{title:e.formattedName,placement:"right",children:(0,r.jsx)("div",{className:"stat-name",style:{borderBottom:"1px dashed currentColor",cursor:"pointer"},children:e.key})}),(0,r.jsx)("div",{className:"stat-value",children:(0,r.jsx)("code",{children:String(e.valueDisplay)})})]},e.key))})]})]},a)}var g=t(3253),x=t(6051),b=t(7648),y=t(3466),j=t(9089);function N(e){let{slug:a,mod:t,artifacts:i,sortKey:n,sortOrder:l,onSortKeyChange:c,onSortOrderChange:u,onResetSort:m}=e,[p,h]=(0,s.useState)([]),[f,_]=(0,s.useState)(1e3),[v,N]=(0,s.useState)(null),k=!!v;(0,s.useEffect)(()=>{let e=new Set;Object.values(i).forEach(a=>{"object"!=typeof a||null===a||Array.isArray(a)||Object.keys(a).forEach(a=>{e.add(a)})}),h(Array.from(e).filter(e=>d(e)||"inv_name"===e||"cost"===e).map(e=>({value:e,label:o(e,t)})).sort((e,a)=>e.label.localeCompare(a.label)))},[a]),(0,s.useEffect)(()=>{let e=()=>{_(window.matchMedia("(max-width: 768px)").matches?300:1e3)};e();let a=window.matchMedia("(max-width: 768px)");return a.addEventListener("change",e),()=>{a.removeEventListener("change",e)}},[]);let w=[{value:"asc",label:"По возрастанию"},{value:"desc",label:"По убыванию"}],S=(0,s.useMemo)(()=>p.find(e=>e.value===n)||null,[p,n]),C=(0,s.useMemo)(()=>w.find(e=>e.value===l)||w[0],[l]),F={control:(e,a)=>({...e,color:"var(--color-accent-main)",fontSize:"14px",cursor:a.isDisabled?"not-allowed":"pointer",outline:"none",padding:"6px 12px",minHeight:"auto",opacity:a.isDisabled?.5:1}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:(e,a)=>({...e,transition:"transform var(--main-transition)",transform:a.selectProps.menuIsOpen?"rotateX(180deg)":"rotateX(0deg)",transformOrigin:"50% 50%",marginInlineStart:"12px"}),menu:e=>({...e,backgroundColor:"var(--color-bg-form-dropdown)",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-surface-border)",boxShadow:"var(--shadow-soft)",zIndex:9999,minWidth:"max-content",marginTop:"var(--spacing-sm)"}),menuList:e=>({...e,scrollbarWidth:"thin",scrollbarColor:"var(--color-accent-main) var(--color-bg-form-control)",padding:"var(--spacing-xs)"}),option:(e,a)=>({...e,borderRadius:"var(--radius-mc)",backgroundColor:a.isSelected?"var(--color-highlight)":a.isFocused?"var(--color-bg-form-control)":"transparent",cursor:"pointer",padding:"0.5em 1em",":hover":{backgroundColor:"var(--color-bg-form-control)",color:"var(--color-accent-main)"}})};return(0,r.jsxs)("div",{className:"sort-controls",children:[(0,r.jsx)("p",{children:"Сортировка:"}),(0,r.jsx)(x.ZP,{unstyled:!0,instanceId:"".concat(a,"-sort-key"),isSearchable:!1,className:"stalker-select-container custom-font",classNamePrefix:"stalker-select",styles:F,value:S,options:p,maxMenuHeight:f,placeholder:"—",onChange:e=>{c(e?e.value:"")},"aria-label":"Поле сортировки"}),(0,r.jsx)(x.ZP,{unstyled:!0,instanceId:"".concat(a,"-sort-order"),isSearchable:!1,className:"stalker-select-container custom-font",classNamePrefix:"stalker-select",styles:F,value:C,options:w,onChange:e=>{e&&u(e.value)},"aria-label":"Порядок сортировки"}),(0,r.jsx)("button",{"aria-label":"Сбросить сортировку",id:"resetSort",className:"stalker-button form-control svg",onClick:m,children:(0,r.jsx)(g.oAZ,{size:"18px"})}),(0,r.jsx)("button",{id:"basic-button",onClick:e=>{N(e.currentTarget)},"aria-controls":k?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":k?"true":void 0,className:"stalker-button form-control sort-contact",children:"Нашли ошибку?"}),(0,r.jsxs)(y.Z,{id:"basic-menu",anchorEl:v,open:k,onClose:()=>{N(null)},slotProps:{paper:{className:"menu-dropdown",style:{color:"var(--color-accent-muted)",background:"var(--color-bg-form-dropdown)"}},list:{className:"menu-dropdown-list","aria-labelledby":"basic-button"}},children:[(0,r.jsx)("li",{className:"menu-dropdown-list-item title",children:"Свяжитесь со мной:"}),(0,r.jsx)("li",{className:"menu-dropdown-list-item",children:(0,r.jsxs)(b.default,{className:"social-link",href:"https://t.me/cluarain",target:"_blank",rel:"me noopener noreferrer",children:["Телеграм",(0,r.jsx)(j.AGi,{size:"22px"})]})}),(0,r.jsx)("li",{className:"menu-dropdown-list-item",children:(0,r.jsxs)(b.default,{className:"social-link",href:"https://discord.com/users/328588104845754380",target:"_blank",rel:"me noopener noreferrer",children:["Discord",(0,r.jsx)(j.j2d,{size:"22px"})]})})]})]})}function k(e){let{checked:a,onChange:t}=e;return(0,r.jsxs)("div",{className:"stalker-checkbox-container",children:[(0,r.jsx)("input",{type:"checkbox",name:"useRawValues",id:"input_useRawValues",className:"stalker-checkbox-input",checked:a,onChange:e=>t(e.target.checked)}),(0,r.jsx)("label",{htmlFor:"input_useRawValues",className:"stalker-checkbox-label",children:"Показывать технические значения из конфигов игры"})]})}var w=t(3145),S=t(2909);let C={FaDiscord:j.j2d,FaGithub:j.hJX,SiGogdotcom:S.I6e};function F(e){let{data:a}=e;return a&&0!==a.length?(0,r.jsxs)("div",{className:"references",children:[(0,r.jsx)("p",{children:"Ссылки на мод:"}),(0,r.jsx)("nav",{className:"references-links-container",children:a.map((e,a)=>{var t;if(!e.href)return null;let s=(null===(t=e.svg)||void 0===t?void 0:t.name)?C[e.svg.name]:null;return(0,r.jsxs)(b.default,{href:e.href,className:"references-link",target:"_blank",rel:"noopener noreferrer",title:e.name,children:[(0,r.jsx)("span",{className:"sr-only",children:e.name}),e.img&&(0,r.jsx)(w.default,{src:(0,h.D)(e.img.src),alt:e.img.alt,height:e.img.height,width:e.img.width}),e.svg&&s&&(0,r.jsx)(s,{size:e.svg.size,"aria-label":e.name})]},a)})})]}):null}var E=(0,s.memo)(function(e){let{metadata:a}=e;if(!a)return null;var t=a.background||{};let i=(0,s.useMemo)(()=>{if(!t.video)return null;var e=t.video.poster.startsWith("/")?t.video.poster:"/games/".concat(a.slug,"/").concat(t.video.poster);return{posterSrc:(0,h.D)(e),sources:t.video.sources.map((e,t)=>{var s=e.src.startsWith("/")?e.src:"/games/".concat(a.slug,"/").concat(e.src);return(0,r.jsx)("source",{src:(0,h.D)(s),type:e.type},t)})}},[t.video,a.slug]),n=(0,s.useMemo)(()=>{if(!t.image)return null;var e=t.image.src.startsWith("/")?t.image.src:"/games/".concat(a.slug,"/").concat(t.image.src);return{src:(0,h.D)(e),alt:t.image.alt||"Фоновое изображение",className:t.image.className||"object-cover"}},[t.image]);return i?(0,r.jsx)("video",{className:"page-background",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata",disablePictureInPicture:!0,disableRemotePlayback:!0,poster:i.posterSrc,"aria-hidden":"true",style:{position:"fixed",top:0,zIndex:0,width:"100%",height:"100dvh",objectFit:"cover",filter:"blur(5px) saturate(50%) brightness(20%)"},children:i.sources}):n?(0,r.jsx)("div",{className:"page-background",style:{filter:"blur(5px) saturate(50%) brightness(20%)",position:"fixed",top:0,zIndex:0,width:"100%",height:"100dvh"},children:(0,r.jsx)(w.default,{src:n.src,alt:n.alt,fill:!0,className:n.className,priority:!0,"aria-hidden":"true"})}):null}),I=t(2713);function P(e){var a;let{metadata:t,styles:n}=e,[o,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[u,m]=(0,s.useState)(null),[p,f]=function(e){let[a,t]=(0,s.useState)(()=>{try{let a=localStorage.getItem("stalkerArts_sortSettings ".concat(e));if(a){let e=JSON.parse(a);return{key:e.key||"",order:e.order||"asc"}}}catch(e){console.error(e)}return{key:"",order:"asc"}});return[a,a=>{t(t=>{let r={...t,...a};return localStorage.setItem("stalkerArts_sortSettings ".concat(e),JSON.stringify(r)),r})}]}(t.slug),[_,g]=function(e){let[a,t]=(0,s.useState)(()=>{try{let a=localStorage.getItem("stalkerArts_rawStats ".concat(e));if(null===a)return localStorage.setItem("stalkerArts_rawStats ".concat(e),"false"),!1;return"true"===a}catch(e){return console.error(e),!1}});return[a,a=>{t(a),localStorage.setItem("stalkerArts_rawStats ".concat(e),String(a))}]}(t.slug),[x,b]=(0,s.useState)(0);(0,s.useEffect)(()=>{let e=document.createElement("style");return e.innerText=n,document.head.appendChild(e),()=>{document.head.removeChild(e)}},[n]),(0,s.useEffect)(()=>{(async()=>{try{if(!t.dataFiles)throw Error("dataFiles отсутствуют в метаданных");let e=Object.keys(t.dataFiles),a=e.map(e=>fetch((0,h.D)("/games/".concat(t.slug,"/").concat(e,".json")))),r=await Promise.all(a);if(!r.every(e=>e.ok))throw Error("Ошибка загрузки данных");let s=await Promise.all(r.map(e=>e.json())),i={};e.forEach((e,a)=>{i[e]=s[a]}),l(i),d(!1)}catch(e){m(e instanceof Error?e.message:"Неизвестная ошибка"),d(!1)}})()},[t.dataFiles,t.slug]),(0,s.useEffect)(()=>{o&&b(Object.keys(o.artifacts).length)},[o]);let y=o?function(e,a,t,r,s){let n="string"==typeof t?t:"";if(!n){let a=Object.entries(e);return a.forEach(e=>{e[1]._show=!0,e[1]._sortKey=!1}),a}let o=n.includes("_immunity"),l=Object.entries(e),c=l.filter(e=>{let[a,t]=e,r=t[n],o=i(n,r,s);return t._show=!o,t._sortKey=n,!o}).sort((e,t)=>{let s=e[1],i=t[1],l=s[n],c=i[n];if("string"==typeof l){if("inv_name"===n){var d,u;let e=(null===(d=a[l])||void 0===d?void 0:d.name)||"",t=(null===(u=a[c])||void 0===u?void 0:u.name)||"";return"asc"===r?e.localeCompare(t,"ru"):t.localeCompare(e,"ru")}return"asc"===r?String(l).localeCompare(String(c),"ru"):String(c).localeCompare(String(l),"ru")}if("boolean"==typeof l){let e=l?1:0,a=c?1:0;return"asc"===r?e-a:a-e}return o?"asc"===r?c-l:l-c:"asc"===r?l-c:c-l}),d=l.filter(e=>{let[a,t]=e,r=t[n];return i(n,r,s)});return d.sort((e,t)=>{var r,s;let i=(null===(r=a[e[1].inv_name])||void 0===r?void 0:r.name)||"",n=(null===(s=a[t[1].inv_name])||void 0===s?void 0:s.name)||"";return i.localeCompare(n,"ru")}),[...c,...d]}(o.artifacts,o.strings,p.key,p.order,t.mod):[];return(0,r.jsxs)("main",{className:"pageContainer",children:[(0,r.jsx)(E,{metadata:t}),(0,r.jsxs)("div",{className:"content-grid",children:[c?(0,r.jsxs)("header",{className:"page-header custom-font",children:[(0,r.jsx)("div",{style:{maxWidth:"600px"},className:"page__title placeholder-text"}),(0,r.jsx)("div",{style:{maxWidth:"400px"},className:"page__subtitle placeholder-text"}),(0,r.jsx)("div",{style:{maxWidth:"350px",height:"35px"},className:"page__subtitle placeholder-text"})]}):(0,r.jsxs)("header",{className:"page-header custom-font",children:[(0,r.jsxs)("h1",{className:"page__title",children:["Артефакты | ",t.title]}),(0,r.jsx)("p",{className:"page__subtitle",children:t.description}),(0,r.jsx)(F,{data:t.authorLinks}),(null==t?void 0:null===(a=t.note)||void 0===a?void 0:a.notBug)&&Array.isArray(t.note.notBug)&&t.note.notBug.map((e,a)=>(0,r.jsx)("p",{className:"page__paragraph",children:e},"notBug-".concat(a)))]}),c?(0,r.jsx)("nav",{className:"breadcrumbs",children:(0,r.jsx)("div",{style:{maxWidth:"230px",height:"1.25em"},className:"placeholder-text"})}):(0,r.jsx)(I.Z,{}),(0,r.jsx)("div",{className:"settings-bar custom-font sticky-element full-width",children:(0,r.jsxs)("div",{id:"config",className:"config",children:[(0,r.jsx)(k,{checked:_,onChange:g}),c?(0,r.jsxs)("div",{className:"sort-controls",children:[(0,r.jsx)("p",{children:"Сортировка:"}),(0,r.jsx)("div",{className:"form-control-placeholder",children:(0,r.jsx)("div",{className:"placeholder-text"})}),(0,r.jsx)("div",{className:"form-control-placeholder",children:(0,r.jsx)("div",{className:"placeholder-text"})})]}):u?(0,r.jsxs)("div",{className:"error-message",children:["Ошибка загрузки настроек: ",u]}):o?(0,r.jsx)(N,{slug:t.slug,mod:t.mod,artifacts:o.artifacts,sortKey:p.key,sortOrder:p.order,onSortKeyChange:e=>{f({key:e})},onSortOrderChange:e=>{f({order:e})},onResetSort:()=>{f({key:"",order:"asc"})}}):null]})}),(0,r.jsx)("div",{id:"artifactsContainer",className:"artifacts-container",children:c?Array.from({length:12}).map((e,a)=>(0,r.jsx)("div",{className:"artifact-card-placeholder",children:(0,r.jsxs)("div",{className:"placeholder-content",children:[(0,r.jsx)("div",{className:"placeholder-title"}),(0,r.jsx)("hr",{className:"artifact-divider"}),(0,r.jsxs)("div",{className:"artifact-stats",style:{marginBlockStart:"var(--spacing-md)"},children:[(0,r.jsx)("div",{className:"placeholder-stat"}),(0,r.jsx)("div",{className:"placeholder-stat"}),(0,r.jsx)("div",{className:"placeholder-stat"})]})]})},a)):u?(0,r.jsxs)("div",{className:"error-container",children:[(0,r.jsx)("div",{className:"error-icon",children:"⚠️"}),(0,r.jsxs)("div",{className:"error-message",children:["Ошибка загрузки артефактов: ",u]}),(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"retry-button",children:"Попробовать снова"})]}):o?y.map(e=>{let[a,s]=e;return(0,r.jsx)(v,{id:a,artifactStats:s,gameData:o,showRawValues:_,metadata:t},a)}):(0,r.jsx)("div",{className:"no-data",children:"Нет данных об артефактах"})}),o&&!c&&!u&&(0,r.jsxs)("div",{id:"totalCount",className:"total-count",children:["Всего артефактов: ",x]})]})]})}},2713:function(e,a,t){"use strict";t.d(a,{Z:function(){return c}});var r=t(7437),s=t(9376),i=t(7648),n=t(2265);let o={"":"Главная",games:"Игры"},l=e=>o[e]?o[e]:e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");function c(){let e=(0,s.usePathname)(),[a,t]=(0,n.useState)([]);return((0,n.useEffect)(()=>{var a=e.split("/").filter(e=>""!==e),r=[];r.push({label:"Главная",href:"/",isActive:"/"===e});var s="";a.forEach((e,t)=>{if("games"!==e){s+="/".concat(e);var i=t===a.length-1;r.push({label:l(e),href:s,isActive:i})}}),t(r)},[e]),a.length<=1)?null:(0,r.jsx)("nav",{className:"breadcrumbs custom-font",children:(0,r.jsx)("ol",{className:"breadcrumb-list",children:a.map((e,a)=>(0,r.jsxs)("li",{className:"breadcrumb-item",children:[a>0&&(0,r.jsx)("span",{className:"breadcrumb-separator",children:"\xb7"}),e.isActive?(0,r.jsx)("span",{className:"breadcrumb-current",children:e.label}):(0,r.jsx)(i.default,{href:e.href,className:"breadcrumb-link",children:e.label})]},e.href))})})}},7339:function(e,a,t){"use strict";t.d(a,{D:function(){return s}});let r="/stalker-artifacts";function s(e){let a=r.replace(/\/$/,""),t=e.startsWith("/")?e:"/".concat(e);return e.startsWith(r)||e.startsWith(a)?t:"".concat(a).concat(t)}}},function(e){e.O(0,[957,706,699,614,965,145,991,971,117,744],function(){return e(e.s=5622)}),_N_E=e.O()}]);